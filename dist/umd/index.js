(function(T,x){typeof exports=="object"&&typeof module!="undefined"?x(exports):typeof define=="function"&&define.amd?define(["exports"],x):(T=typeof globalThis!="undefined"?globalThis:T||self,x(T.Whale={}))})(this,function(T){"use strict";var Lr=Object.defineProperty;var yn=Object.getOwnPropertySymbols;var Or=Object.prototype.hasOwnProperty,Dr=Object.prototype.propertyIsEnumerable;var yt=(T,x,C)=>x in T?Lr(T,x,{enumerable:!0,configurable:!0,writable:!0,value:C}):T[x]=C,bn=(T,x)=>{for(var C in x||(x={}))Or.call(x,C)&&yt(T,C,x[C]);if(yn)for(var C of yn(x))Dr.call(x,C)&&yt(T,C,x[C]);return T};var bt=(T,x,C)=>yt(T,typeof x!="symbol"?x+"":x,C);var kn=(T,x,C)=>new Promise((Ze,Ie)=>{var Je=A=>{try{oe(C.next(A))}catch(ue){Ie(ue)}},O=A=>{try{oe(C.throw(A))}catch(ue){Ie(ue)}},oe=A=>A.done?Ze(A.value):Promise.resolve(A.value).then(Je,O);oe((C=C.apply(T,x)).next())});const x="5";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(x);const C=1,Ze=2,Ie=16,Je=2,O=Symbol(),oe=!1,A=2,ue=4,ge=8,Qe=16,$=32,we=64,Re=128,Y=256,Le=512,D=1024,X=2048,ce=4096,K=8192,Oe=16384,xn=32768,kt=65536,En=1<<19,xt=1<<20,ve=Symbol("$state"),zn=Symbol("");var $e=Array.isArray,Sn=Array.prototype.indexOf,et=Array.from,Tn=Object.defineProperty,ye=Object.getOwnPropertyDescriptor,Et=Object.getOwnPropertyDescriptors,Cn=Object.prototype,An=Array.prototype,tt=Object.getPrototypeOf;function Nn(e){for(var t=0;t<e.length;t++)e[t]()}let De=!1,nt=[];function zt(){De=!1;const e=nt.slice();nt=[],Nn(e)}function rt(e){De||(De=!0,queueMicrotask(zt)),nt.push(e)}function In(){De&&zt()}function St(e){return e===this.v}function Tt(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ct(e){return!Tt(e,this.v)}function Rn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ln(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function On(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Dn(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Mn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Me=!1,Pn=!1;function qn(){Me=!0}function B(e,t){var n={f:0,v:e,reactions:null,equals:St,rv:0,wv:0};return n}function Pe(e){return Bn(B(e))}function Fn(e,t=!1){var r,i;const n=B(e);return t||(n.equals=Ct),Me&&L!==null&&L.l!==null&&((i=(r=L.l).s)!=null?i:r.s=[]).push(n),n}function Bn(e){return b!==null&&!G&&b.f&A&&(H===null?Wn([e]):H.push(e)),e}function P(e,t){return b!==null&&!G&&Ye()&&b.f&(A|Qe)&&(H===null||!H.includes(e))&&Mn(),At(e,t)}function At(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=Mt(),Nt(e,X),Ye()&&E!==null&&E.f&D&&!(E.f&($|we))&&(Z===null?Yn([e]):Z.push(e))),t}function Nt(e,t){var n=e.reactions;if(n!==null)for(var r=Ye(),i=n.length,l=0;l<i;l++){var f=n[l],v=f.f;v&X||!r&&f===E||(W(f,t),v&(D|Y)&&(v&A?Nt(f,ce):He(f)))}}function qe(e){var t=A|X,n=b!==null&&b.f&A?b:null;return E===null||n!==null&&n.f&Y?t|=Y:E.f|=xt,{ctx:L,deps:null,effects:null,equals:St,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n!=null?n:E}}function jn(e){const t=qe(e);return t.equals=Ct,t}function It(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)J(t[n])}}function Un(e){for(var t=e.parent;t!==null;){if(!(t.f&A))return t;t=t.parent}return null}function Vn(e){var t,n=E;te(Un(e));try{It(e),t=qt(e)}finally{te(n)}return t}function Rt(e){var t=Vn(e),n=(ne||e.f&Y)&&e.deps!==null?ce:D;W(e,n),e.equals(t)||(e.v=t,e.wv=Mt())}const Lt=0,Hn=1;let Fe=!1,Be=Lt,be=!1,ke=null,de=!1;function Ot(e){de=e}let ae=[],pe=0,Mr=[],b=null,G=!1;function ee(e){b=e}let E=null;function te(e){E=e}let H=null;function Wn(e){H=e}let M=null,j=0,Z=null;function Yn(e){Z=e}let Dt=1,je=0,ne=!1;function Mt(){return++Dt}function xe(e){var s,a;var t=e.f;if(t&X)return!0;if(t&ce){var n=e.deps,r=(t&Y)!==0;if(n!==null){var i,l,f=(t&Le)!==0,v=r&&E!==null&&!ne,c=n.length;if(f||v){for(i=0;i<c;i++)l=n[i],(f||!((s=l==null?void 0:l.reactions)!=null&&s.includes(e)))&&((a=l.reactions)!=null?a:l.reactions=[]).push(e);f&&(e.f^=Le)}for(i=0;i<c;i++)if(l=n[i],xe(l)&&Rt(l),l.wv>e.wv)return!0}(!r||E!==null&&!ne)&&W(e,D)}return!1}function Xn(e,t){for(var n=t;n!==null;){if(n.f&Re)try{n.fn(e);return}catch(r){n.f^=Re}n=n.parent}throw Fe=!1,e}function Kn(e){return(e.f&Oe)===0&&(e.parent===null||(e.parent.f&Re)===0)}function Ue(e,t,n,r){if(Fe){if(n===null&&(Fe=!1),Kn(t))throw e;return}n!==null&&(Fe=!0);{Xn(e,t);return}}function Pt(e,t,n=0){var r=e.reactions;if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];l.f&A?Pt(l,t,n+1):t===l&&(n===0?W(l,X):l.f&D&&W(l,ce),He(l))}}function qt(e){var d,p;var t=M,n=j,r=Z,i=b,l=ne,f=H,v=L,c=G,s=e.f;M=null,j=0,Z=null,b=s&($|we)?null:e,ne=(s&Y)!==0&&(!de||i===null||c),H=null,ln(e.ctx),G=!1,je++;try{var a=(0,e.fn)(),u=e.deps;if(M!==null){var o;if(Ve(e,j),u!==null&&j>0)for(u.length=j+M.length,o=0;o<M.length;o++)u[j+o]=M[o];else e.deps=u=M;if(!ne)for(o=j;o<u.length;o++)((p=(d=u[o]).reactions)!=null?p:d.reactions=[]).push(e)}else u!==null&&j<u.length&&(Ve(e,j),u.length=j);if(Ye()&&Z!==null&&!(e.f&(A|ce|X)))for(o=0;o<Z.length;o++)Pt(Z[o],e);return i!==null&&je++,a}finally{M=t,j=n,Z=r,b=i,ne=l,H=f,ln(v),G=c}}function Gn(e,t){let n=t.reactions;if(n!==null){var r=Sn.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&t.f&A&&(M===null||!M.includes(t))&&(W(t,ce),t.f&(Y|Le)||(t.f^=Le),It(t),Ve(t,0))}function Ve(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Gn(e,n[r])}function it(e){var t=e.f;if(!(t&Oe)){W(e,D);var n=E,r=L;E=e;try{t&Qe?sr(e):Qt(e),Jt(e);var i=qt(e);e.teardown=typeof i=="function"?i:null,e.wv=Dt;var l=e.deps,f;oe&&Pn&&e.f&X}catch(v){Ue(v,e,n,r||e.ctx)}finally{E=n}}}function Ft(){if(pe>1e3){pe=0;try{Rn()}catch(e){if(ke!==null)Ue(e,ke,null);else throw e}}pe++}function Bt(e){var t=e.length;if(t!==0){Ft();var n=de;de=!0;try{for(var r=0;r<t;r++){var i=e[r];i.f&D||(i.f^=D);var l=[];jt(i,l),Zn(l)}}finally{de=n}}}function Zn(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if(!(r.f&(Oe|K)))try{xe(r)&&(it(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?$t(r):r.fn=null))}catch(i){Ue(i,r,null,r.ctx)}}}function Jn(){if(be=!1,pe>1001)return;const e=ae;ae=[],Bt(e),be||(pe=0,ke=null)}function He(e){Be===Lt&&(be||(be=!0,queueMicrotask(Jn))),ke=e;for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(we|$)){if(!(n&D))return;t.f^=D}}ae.push(t)}function jt(e,t){var n=e.first,r=[];e:for(;n!==null;){var i=n.f,l=(i&$)!==0,f=l&&(i&D)!==0,v=n.next;if(!f&&!(i&K))if(i&ge){if(l)n.f^=D;else{var c=b;try{b=n,xe(n)&&it(n)}catch(o){Ue(o,n,null,n.ctx)}finally{b=c}}var s=n.first;if(s!==null){n=s;continue}}else i&ue&&r.push(n);if(v===null){let o=n.parent;for(;o!==null;){if(e===o)break e;var a=o.next;if(a!==null){n=a;continue e}o=o.parent}}n=v}for(var u=0;u<r.length;u++)s=r[u],t.push(s),jt(s,t)}function Ut(e){var t=Be,n=ae;try{Ft();const i=[];Be=Hn,ae=i,be=!1,Bt(n);var r=e==null?void 0:e();return In(),(ae.length>0||i.length>0)&&Ut(),pe=0,ke=null,r}finally{Be=t,ae=n}}function Vt(){return kn(this,null,function*(){yield Promise.resolve(),Ut()})}function I(e){var t=e.f,n=(t&A)!==0;if(b!==null&&!G){H!==null&&H.includes(e)&&Dn();var r=b.deps;e.rv<je&&(e.rv=je,M===null&&r!==null&&r[j]===e?j++:M===null?M=[e]:(!ne||!M.includes(e))&&M.push(e))}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&!(l.f&Y)&&(i.f^=Y)}return n&&(i=e,xe(i)&&Rt(i)),e.v}function Ht(e){var t=G;try{return G=!0,e()}finally{G=t}}const Qn=-7169;function W(e,t){e.f=e.f&Qn|t}function $n(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ve in e)lt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ve in n&&lt(n)}}}function lt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{lt(e[r],t)}catch(i){}const n=tt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Et(n);for(let i in r){const l=r[i].get;if(l)try{l.call(e)}catch(f){}}}}}let er=!1;function _e(e,t=null,n){if(typeof e!="object"||e===null||ve in e)return e;const r=tt(e);if(r!==Cn&&r!==An)return e;var i=new Map,l=$e(e),f=B(0);l&&i.set("length",B(e.length));var v;return new Proxy(e,{defineProperty(c,s,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&Ln();var u=i.get(s);return u===void 0?(u=B(a.value),i.set(s,u)):P(u,_e(a.value,v)),!0},deleteProperty(c,s){var a=i.get(s);if(a===void 0)s in c&&i.set(s,B(O));else{if(l&&typeof s=="string"){var u=i.get("length"),o=Number(s);Number.isInteger(o)&&o<u.v&&P(u,o)}P(a,O),Wt(f)}return!0},get(c,s,a){var p;if(s===ve)return e;var u=i.get(s),o=s in c;if(u===void 0&&(!o||(p=ye(c,s))!=null&&p.writable)&&(u=B(_e(o?c[s]:O,v)),i.set(s,u)),u!==void 0){var d=I(u);return d===O?void 0:d}return Reflect.get(c,s,a)},getOwnPropertyDescriptor(c,s){var a=Reflect.getOwnPropertyDescriptor(c,s);if(a&&"value"in a){var u=i.get(s);u&&(a.value=I(u))}else if(a===void 0){var o=i.get(s),d=o==null?void 0:o.v;if(o!==void 0&&d!==O)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return a},has(c,s){var d;if(s===ve)return!0;var a=i.get(s),u=a!==void 0&&a.v!==O||Reflect.has(c,s);if(a!==void 0||E!==null&&(!u||(d=ye(c,s))!=null&&d.writable)){a===void 0&&(a=B(u?_e(c[s],v):O),i.set(s,a));var o=I(a);if(o===O)return!1}return u},set(c,s,a,u){var R;var o=i.get(s),d=s in c;if(l&&s==="length")for(var p=a;p<o.v;p+=1){var g=i.get(p+"");g!==void 0?P(g,O):p in c&&(g=B(O),i.set(p+"",g))}o===void 0?(!d||(R=ye(c,s))!=null&&R.writable)&&(o=B(void 0),P(o,_e(a,v)),i.set(s,o)):(d=o.v!==O,P(o,_e(a,v)));var _=Reflect.getOwnPropertyDescriptor(c,s);if(_!=null&&_.set&&_.set.call(u,a),!d){if(l&&typeof s=="string"){var h=i.get("length"),m=Number(s);Number.isInteger(m)&&m>=h.v&&P(h,m+1)}Wt(f)}return!0},ownKeys(c){I(f);var s=Reflect.ownKeys(c).filter(o=>{var d=i.get(o);return d===void 0||d.v!==O});for(var[a,u]of i)u.v!==O&&!(a in c)&&s.push(a);return s},setPrototypeOf(){On()}})}function Wt(e,t=1){P(e,e.v+t)}var Yt,Xt,Kt;function tr(){if(Yt===void 0){Yt=window;var e=Element.prototype,t=Node.prototype;Xt=ye(t,"firstChild").get,Kt=ye(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Gt(e=""){return document.createTextNode(e)}function st(e){return Xt.call(e)}function ot(e){return Kt.call(e)}function q(e,t){return st(e)}function re(e,t=1,n=!1){let r=e;for(;t--;)r=ot(r);return r}function nr(e){e.textContent=""}function rr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function he(e,t,n,r=!0){var a;var i=(e&we)!==0,l=E,f={ctx:L,deps:null,nodes_start:null,nodes_end:null,f:e|X,first:null,fn:t,last:null,next:null,parent:i?null:l,prev:null,teardown:null,transitions:null,wv:0};if(n){var v=de;try{Ot(!0),it(f),f.f|=xn}catch(u){throw J(f),u}finally{Ot(v)}}else t!==null&&He(f);var c=n&&f.deps===null&&f.first===null&&f.nodes_start===null&&f.teardown===null&&(f.f&(xt|Re))===0;if(!c&&!i&&r&&(l!==null&&rr(f,l),b!==null&&b.f&A)){var s=b;((a=s.effects)!=null?a:s.effects=[]).push(f)}return f}function ir(e){const t=he(ge,null,!1);return W(t,D),t.teardown=e,t}function lr(e){const t=he(we,e,!0);return(n={})=>new Promise(r=>{n.outro?en(t,()=>{J(t),r(void 0)}):(J(t),r(void 0))})}function at(e){return he(ue,e,!1)}function Zt(e){return he(ge,e,!0)}function ft(e,t=[],n=qe){const r=t.map(n);return ut(()=>e(...r.map(I)))}function ut(e,t=0){return he(ge|Qe|t,e,!0)}function We(e,t=!0){return he(ge|$,e,!0,t)}function Jt(e){var t=e.teardown;if(t!==null){const n=b;ee(null);try{t.call(null)}finally{ee(n)}}}function Qt(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;J(n,t),n=r}}function sr(e){for(var t=e.first;t!==null;){var n=t.next;t.f&$||J(t),t=n}}function J(e,t=!0){var n=!1;if((t||e.f&En)&&e.nodes_start!==null){for(var r=e.nodes_start,i=e.nodes_end;r!==null;){var l=r===i?null:ot(r);r.remove(),r=l}n=!0}Qt(e,t&&!n),Ve(e,0),W(e,Oe);var f=e.transitions;if(f!==null)for(const c of f)c.stop();Jt(e);var v=e.parent;v!==null&&v.first!==null&&$t(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function $t(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function en(e,t){var n=[];ct(e,n,!0),tn(n,()=>{J(e),t&&t()})}function tn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function ct(e,t,n){if(!(e.f&K)){if(e.f^=K,e.transitions!==null)for(const f of e.transitions)(f.is_global||n)&&t.push(f);for(var r=e.first;r!==null;){var i=r.next,l=(r.f&kt)!==0||(r.f&$)!==0;ct(r,t,l?n:!1),r=i}}}function nn(e){rn(e,!0)}function rn(e,t){if(e.f&K){e.f^=K,e.f&D||(e.f^=D),xe(e)&&(W(e,X),He(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&kt)!==0||(n.f&$)!==0;rn(n,i?t:!1),n=r}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let L=null;function ln(e){L=e}function vt(e,t=!1,n){L={p:L,c:null,e:null,m:!1,s:e,x:null,l:null},Me&&!t&&(L.l={s:null,u:null,r1:[],r2:B(!1)})}function dt(e){const t=L;if(t!==null){e!==void 0&&(t.x=e);const f=t.e;if(f!==null){var n=E,r=b;t.e=null;try{for(var i=0;i<f.length;i++){var l=f[i];te(l.effect),ee(l.reaction),at(l.fn)}}finally{te(n),ee(r)}}L=t.p,t.m=!0}return e||{}}function Ye(){return!Me||L!==null&&L.l===null}const or=["touchstart","touchmove"];function ar(e){return or.includes(e)}function fr(e){var t=b,n=E;ee(null),te(null);try{return e()}finally{ee(t),te(n)}}const sn=new Set,pt=new Set;function on(e,t,n,r={}){function i(l){if(r.capture||ze.call(t,l),!l.cancelBubble)return fr(()=>n==null?void 0:n.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?rt(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Ee(e,t,n,r={}){var i=on(t,e,n,r);return()=>{e.removeEventListener(t,i,r)}}function an(e,t,n,r,i){var l={capture:r,passive:i},f=on(e,t,n,l);(t===document.body||t===window||t===document)&&ir(()=>{t.removeEventListener(e,f,l)})}function fn(e){for(var t=0;t<e.length;t++)sn.add(e[t]);for(var n of pt)n(e)}function ze(e){var m;var t=this,n=t.ownerDocument,r=e.type,i=((m=e.composedPath)==null?void 0:m.call(e))||[],l=i[0]||e.target,f=0,v=e.__root;if(v){var c=i.indexOf(v);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var s=i.indexOf(t);if(s===-1)return;c<=s&&(f=c)}if(l=i[f]||e.target,l!==t){Tn(e,"currentTarget",{configurable:!0,get(){return l||n}});var a=b,u=E;ee(null),te(null);try{for(var o,d=[];l!==null;){var p=l.assignedSlot||l.parentNode||l.host||null;try{var g=l["__"+r];if(g!==void 0&&!l.disabled)if($e(g)){var[_,...h]=g;_.apply(l,[e,...h])}else g.call(l,e)}catch(R){o?d.push(R):o=R}if(e.cancelBubble||p===t||p===null)break;l=p}if(o){for(let R of d)queueMicrotask(()=>{throw R});throw o}}finally{e.__root=t,delete e.currentTarget,ee(a),te(u)}}}function un(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function cn(e,t){var n=E;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function _t(e,t){var n=(t&Je)!==0,r,i=!e.startsWith("<!>");return()=>{r===void 0&&(r=un(i?e:"<!>"+e),r=st(r));var l=n?document.importNode(r,!0):r.cloneNode(!0);return cn(l,l),l}}function ht(e,t){e!==null&&e.before(t)}function mt(e,t){var r;var n=t==null?"":typeof t=="object"?t+"":t;n!==((r=e.__t)!=null?r:e.__t=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ur(e,t){return cr(e,t)}const me=new Map;function cr(e,{target:t,anchor:n,props:r={},events:i,context:l,intro:f=!0}){tr();var v=new Set,c=u=>{for(var o=0;o<u.length;o++){var d=u[o];if(!v.has(d)){v.add(d);var p=ar(d);t.addEventListener(d,ze,{passive:p});var g=me.get(d);g===void 0?(document.addEventListener(d,ze,{passive:p}),me.set(d,1)):me.set(d,g+1)}}};c(et(sn)),pt.add(c);var s=void 0,a=lr(()=>{var u=n!=null?n:t.appendChild(Gt());return We(()=>{if(l){vt({});var o=L;o.c=l}i&&(r.$$events=i),s=e(u,r)||{},l&&dt()}),()=>{var p;for(var o of v){t.removeEventListener(o,ze);var d=me.get(o);--d===0?(document.removeEventListener(o,ze),me.delete(o)):me.set(o,d)}pt.delete(c),u!==n&&((p=u.parentNode)==null||p.removeChild(u))}});return vr.set(s,a),s}let vr=new WeakMap;function dr(e,t){return t}function pr(e,t,n,r){for(var i=[],l=t.length,f=0;f<l;f++)ct(t[f].e,i,!0);var v=l>0&&i.length===0&&n!==null;if(v){var c=n.parentNode;nr(c),c.append(n),r.clear(),ie(e,t[0].prev,t[l-1].next)}tn(i,()=>{for(var s=0;s<l;s++){var a=t[s];v||(r.delete(a.k),ie(e,a.prev,a.next)),J(a.e,!v)}})}function _r(e,t,n,r,i,l=null){var f=e,v={items:new Map,first:null};{var c=e;f=c.appendChild(Gt())}var s=null,a=!1,u=jn(()=>{var o=n();return $e(o)?o:o==null?[]:et(o)});ut(()=>{var o=I(u),d=o.length;a&&d===0||(a=d===0,hr(o,v,f,i,t,r,n),l!==null&&(d===0?s?nn(s):s=We(()=>l(f)):s!==null&&en(s,()=>{s=null})),I(u))})}function hr(e,t,n,r,i,l,f){var v=e.length,c=t.items,s=t.first,a=s,u,o=null,d=[],p=[],g,_,h,m;for(m=0;m<v;m+=1){if(g=e[m],_=l(g,m),h=c.get(_),h===void 0){var R=a?a.e.nodes_start:n;o=gr(R,t,o,o===null?t.first:o.next,g,_,m,r,i,f),c.set(_,o),d=[],p=[],a=o.next;continue}if(mr(h,g,m),h.e.f&K&&nn(h.e),h!==a){if(u!==void 0&&u.has(h)){if(d.length<p.length){var V=p[0],S;o=V.prev;var w=d[0],y=d[d.length-1];for(S=0;S<d.length;S+=1)vn(d[S],V,n);for(S=0;S<p.length;S+=1)u.delete(p[S]);ie(t,w.prev,y.next),ie(t,o,w),ie(t,y,V),a=V,o=y,m-=1,d=[],p=[]}else u.delete(h),vn(h,a,n),ie(t,h.prev,h.next),ie(t,h,o===null?t.first:o.next),ie(t,o,h),o=h;continue}for(d=[],p=[];a!==null&&a.k!==_;)a.e.f&K||(u!=null?u:u=new Set).add(a),p.push(a),a=a.next;if(a===null)continue;h=a}d.push(h),o=h,a=h.next}if(a!==null||u!==void 0){for(var z=u===void 0?[]:et(u);a!==null;)a.e.f&K||z.push(a),a=a.next;var N=z.length;if(N>0){var Q=v===0?n:null;pr(t,z,Q,c)}}E.first=t.first&&t.first.e,E.last=o&&o.e}function mr(e,t,n,r){At(e.v,t),e.i=n}function gr(e,t,n,r,i,l,f,v,c,s){var a=(c&C)!==0,u=(c&Ie)===0,o=a?u?Fn(i):B(i):i,d=c&Ze?B(f):f,p={i:d,v:o,k:l,a:null,e:null,prev:n,next:r};try{return p.e=We(()=>v(e,o,d,s),er),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?t.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function vn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,l=e.e.nodes_start;l!==r;){var f=ot(l);i.before(l),l=f}}function ie(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function wr(e,t,n,r,i){var l=e,f="",v;ut(()=>{var c;f!==(f=(c=t())!=null?c:"")&&(v!==void 0&&(J(v),v=void 0),f!==""&&(v=We(()=>{var s=f+"",a=un(s);cn(st(a),a.lastChild),l.before(a)})))})}function dn(e,t){rt(()=>{var i;var n=e.getRootNode(),r=n.host?n:(i=n.head)!=null?i:n.ownerDocument.head;if(!r.querySelector("#"+t.hash)){const l=document.createElement("style");l.id=t.hash,l.textContent=t.code,r.appendChild(l)}})}function yr(e,t,n){at(()=>{var r=Ht(()=>t(e,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,l={};Zt(()=>{var f=n();$n(f),i&&Tt(l,f)&&(l=f,r.update(f))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function Se(e,t,n,r){var l;var i=(l=e.__attributes)!=null?l:e.__attributes={};i[t]!==(i[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[zn]=n),n==null?e.removeAttribute(t):typeof n!="string"&&br(e).includes(t)?e[t]=n:e.setAttribute(t,n))}var pn=new Map;function br(e){var t=pn.get(e.nodeName);if(t)return t;pn.set(e.nodeName,t=[]);for(var n,r=e,i=Element.prototype;i!==r;){n=Et(r);for(var l in n)n[l].set&&t.push(l);r=tt(r)}return t}function Xe(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function _n(e,t){return e===t||(e==null?void 0:e[ve])===t}function Te(e={},t,n,r){return at(()=>{var i,l;return Zt(()=>{i=l,l=[],Ht(()=>{e!==n(...l)&&(t(e,...l),i&&_n(n(...i),e)&&t(null,...i))})}),()=>{rt(()=>{l&&_n(n(...l),e)&&t(null,...l)})}}),e}function gt(e,t={enabled:!0}){let{parent:n,normalizedDelta:r,handle:i,enabled:l,ignore:f,cursor:v}=hn(e,t);const c={x:0,y:0},s={top:0,left:0};let a=0,u=0;function o(){return f?Array.from(i.querySelectorAll(f)):[]}function d(w){c.x=w.clientX,c.y=w.clientY}function p({top:w,left:y}){s.top=w,s.left=y}function g(w){var Ne;const y=e.getBoundingClientRect();let z;if(r.x)switch((Ne=r.x)==null?void 0:Ne.unit){case"%":z=r.x.value*y.width/100;break;case"px":z=r.x.value;break}let N;if(r.y)switch(r.y.unit){case"%":N=r.y.value*y.height/100;break;case"px":N=r.y.value;break}const Q=w.clientX-c.x,Ae=w.clientY-c.y;d(w);let U=s.left;z!==0&&(U+=Q);let F=s.top;if(N!==0&&(F+=Ae),n){let k;if(n==="screen"?k={top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:k=n.getBoundingClientRect(),z!==0){const le=z!=null?z:0,se=y.left+Q+le;if(se<k.left)U+=k.left-se;else{const fe=y.right+Q-le;fe>k.right&&(U-=fe-k.right)}}if(N!==0){const le=N!=null?N:0,se=y.top+Ae+le;if(se<k.top)F+=k.top-se;else{const fe=y.bottom+Ae-le;fe>k.bottom&&(F-=fe-k.bottom)}}}else{if(z){const k=a+U-s.left;k>z?U-=k-z:k<-z&&(U-=k+z)}if(N){const k=u+F-s.top;k>N?F-=k-N:k<-N&&(F-=k+N)}}U!==s.left&&(e.style.left=`${U}px`),F!==s.top&&(e.style.top=`${F}px`),a+=U-s.left,u+=F-s.top,p({top:F,left:U})}let _=[];function h(){document.body.style.userSelect="",v&&(document.body.style.cursor==="grabbing"&&document.body.style.removeProperty("cursor"),i.style.cursor="grab"),_.forEach(y=>y()),_=[];const w={node:e,position:s};e.dispatchEvent(new CustomEvent("movableend",{detail:w}))}function m(w){var Ne,k,le,se;if(o().some(fe=>fe.isSameNode(w.target)))return;const z=getComputedStyle(e),N="^[-0-9]+",Q=parseInt((k=(Ne=z.getPropertyValue("left").match(N))==null?void 0:Ne[0])!=null?k:"0"),Ae=parseInt((se=(le=z.getPropertyValue("top").match(N))==null?void 0:le[0])!=null?se:"0");p({left:Q,top:Ae});const U={node:e,position:s};e.dispatchEvent(new CustomEvent("movablestart",{detail:U}));const F=z.getPropertyValue("position");F!=="relative"&&F!=="absolute"&&F!=="fixed"&&(e.style.position="relative"),d(w),document.body.style.userSelect="none",v&&(document.body.style.cursor="grabbing",i.style.cursor="grabbing"),_.push(Ee(window,"pointermove",g)),_.push(Ee(window,"pointerup",h)),_.push(Ee(window,"pointercancel",h))}function R(){if(i.style.touchAction="none",v){i.style.cursor="grab";const w=o();for(const y of w)y.style.cursor||(y.style.cursor="auto")}}function V(){if(i.style.removeProperty("touch-action"),v){(i==null?void 0:i.style.cursor)==="grab"&&i.style.removeProperty("cursor");const w=o();for(const y of w)y.style.cursor==="auto"&&y.style.removeProperty("cursor")}}let S;return l&&(S=Ee(i,"pointerdown",m,{capture:!0}),Vt().then(()=>{R()})),{update(w){V(),S==null||S(),{parent:n,normalizedDelta:r,handle:i,enabled:l,ignore:f,cursor:v}=hn(e,w),l&&(S=Ee(i,"pointerdown",m,{capture:!0}),Vt().then(()=>{R()}))},destroy(){S==null||S(),V()}}}function kr(e){let t,n;return e&&(typeof e=="number"?t=n={unit:"px",value:0}:typeof e=="string"?t=n={unit:wt(e),value:parseInt(e,10)}:(e.x===0?t={unit:"px",value:0}:e.x!==void 0&&(t={unit:wt(e.x,"x"),value:parseInt(e.x,10)}),e.y===0?n={unit:"px",value:0}:e.y!==void 0&&(n={unit:wt(e.y,"y"),value:parseInt(e.y,10)}))),{x:t,y:n}}function wt(e,t=void 0){let n="px";if(e==="0"&&(n="px"),e.slice(-1)==="%")n="%";else if(e.slice(-2)==="px")n="px";else throw new Error(`Invalid delta ${t!=null?t:""} unit. Only 'px' and '%' are supported.`);return n}function hn(e,t={}){var n,r,i,l,f,v;return{enabled:(n=t.enabled)!=null?n:!0,parent:(r=t.limit)==null?void 0:r.parent,normalizedDelta:kr((i=t.limit)==null?void 0:i.delta),handle:(f=(l=t.handle)!=null?l:t.trigger)!=null?f:e,ignore:(t.ignore?typeof t.ignore=="string"?[t.ignore]:t.ignore:[]).join(","),cursor:(v=t.cursor)!=null?v:!0}}const xr=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="0.75em" height="0.75em" overflow="visible" stroke="currentColor" stroke-width="2" >
   <line x1="0" y1="0" x2="50" y2="50" />
   <line x1="50" y1="0" x2="0" y2="50" />
</svg>`;qn();const Ke=(e,t,n)=>{P(t,!1),P(n,!0),setTimeout(()=>{P(n,!1)},300)};var Er=_t('<div id="modal-wrapper" class="svelte-9zgedm"><div class="modal__mask svelte-9zgedm"></div> <div class="modal__content svelte-9zgedm"><div class="modal__content-header svelte-9zgedm"><span class="title svelte-9zgedm"> </span> <div class="close svelte-9zgedm"><!></div></div> <div class="content svelte-9zgedm"></div> <div class="footer svelte-9zgedm"><button class="btn cancel svelte-9zgedm">cancel</button> <button class="btn confirm svelte-9zgedm">confirm</button></div></div></div>');const zr={hash:"svelte-9zgedm",code:`#modal-wrapper.svelte-9zgedm {visibility:hidden;font-size:16px;}#modal-wrapper.active.svelte-9zgedm {visibility:visible;}#modal-wrapper.svelte-9zgedm .modal__mask:where(.svelte-9zgedm) {width:100%;height:100%;position:fixed;z-index:10001;top:0;left:0;background-color:#00000073;visibility:hidden;opacity:0;transition:all 0.3s ease;}#modal-wrapper.svelte-9zgedm .modal__mask.active:where(.svelte-9zgedm) {visibility:visible;opacity:1;}#modal-wrapper.svelte-9zgedm .modal__content:where(.svelte-9zgedm) {position:fixed;left:0;top:0;right:0;bottom:0;display:flex;flex-direction:column;z-index:10001;background-color:#fff;width:fit-content;height:fit-content;max-height:25em;margin:auto;border-radius:0.3125em;visibility:hidden;transform:scale(0.2);transform-origin:150px 150px;overflow:hidden;color:rgba(0, 0, 0, 0.85);line-height:normal;transition:all 0.3s ease;opacity:0;}#modal-wrapper.svelte-9zgedm .modal__content.active:where(.svelte-9zgedm) {visibility:visible;transform:scale(1);opacity:1;}#modal-wrapper.svelte-9zgedm .modal__content.closing:where(.svelte-9zgedm) {
  animation: svelte-9zgedm-closeAnimation 0.3s forwards;}#modal-wrapper.svelte-9zgedm .modal__content-header:where(.svelte-9zgedm) {border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;padding:0.5em 0.75em;align-items:center;}#modal-wrapper.svelte-9zgedm .modal__content-header:where(.svelte-9zgedm) .title:where(.svelte-9zgedm) {font-size:1em;opacity:0.65;}#modal-wrapper.svelte-9zgedm .modal__content-header:where(.svelte-9zgedm) .close:where(.svelte-9zgedm) {align-self:center;font-size:1em;cursor:pointer;display:inline-block;}#modal-wrapper.svelte-9zgedm .modal__content:where(.svelte-9zgedm) .content:where(.svelte-9zgedm) {overflow:auto;min-width:25em;min-height:12em;padding:0.7em;}#modal-wrapper.svelte-9zgedm .modal__content:where(.svelte-9zgedm) .footer:where(.svelte-9zgedm) {display:flex;justify-content:flex-end;gap:10px;padding:10px;}#modal-wrapper.svelte-9zgedm .modal__content:where(.svelte-9zgedm) .footer:where(.svelte-9zgedm) .btn:where(.svelte-9zgedm) {padding:0.5em 1em;border-radius:0.25em;cursor:pointer;font-size:0.875em;border:none;}#modal-wrapper.svelte-9zgedm .modal__content:where(.svelte-9zgedm) .footer:where(.svelte-9zgedm) .btn.cancel:where(.svelte-9zgedm) {background-color:#f0f0f0;}#modal-wrapper.svelte-9zgedm .modal__content:where(.svelte-9zgedm) .footer:where(.svelte-9zgedm) .btn.confirm:where(.svelte-9zgedm) {background-color:#1890ff;color:#fff;}#modal-wrapper.svelte-9zgedm .modal__content:where(.svelte-9zgedm) .footer:where(.svelte-9zgedm) .btn:where(.svelte-9zgedm):hover {opacity:0.9;}
@keyframes svelte-9zgedm-closeAnimation {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.1);
    opacity: 0.5;
  }
  100% {
    transform: scale(0.9);
    opacity: 0;
  }
}`};function Sr(e,t){vt(t,!0),dn(e,zr);let n=Pe(!1),r=Pe(!1),i;const l=()=>{P(n,!0);const h=i.querySelector(".content");t.dom&&(h.innerHTML="",h.appendChild(t.dom))};var f=Er(),v=q(f);v.__click=[Ke,n,r];var c=re(v,2),s=q(c),a=q(s),u=q(a),o=re(a,2);o.__click=[Ke,n,r];var d=q(o);wr(d,()=>xr);var p=re(s,4),g=q(p);g.__click=[Ke,n,r];var _=re(g,2);return _.__click=[Ke,n,r],Te(f,h=>i=h,()=>i),ft(()=>{Xe(f,"active",I(n)),Xe(v,"active",I(n)),Xe(c,"active",I(n)),Xe(c,"closing",I(r)),mt(u,t.title)}),ht(e,f),dt({open:l})}fn(["click"]);var Tr=(e,t,n)=>t(n()),Cr=_t('<div class="feat svelte-sspk90"><span class="feat__logo svelte-sspk90"><img alt="logo" draggable="false" class="svelte-sspk90"></span> <div class="feat__tooltip svelte-sspk90"><div class="feat__tooltip-name svelte-sspk90"> </div> <div class="feat__tooltip-desc svelte-sspk90"> </div></div></div>'),Ar=_t('<div id="whale" class="svelte-sspk90"><div class="menu"><div class="menu-logo animate svelte-sspk90"><img draggable="false" alt="brand" class="svelte-sspk90"></div></div> <div class="sub-menu animate svelte-sspk90"></div> <!></div>');const Nr={hash:"svelte-sspk90",code:"#whale.svelte-sspk90 {position:fixed;z-index:10000;right:0px;bottom:160px;font-size:16px;color:rgba(103, 92, 92, 0.85);line-height:normal;display:block;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';}#whale.hover .menu-logo.svelte-sspk90 {opacity:0.85;transform:translateX(0px);}#whale.hover .menu-logo.svelte-sspk90::before {transform:translateX(125%) skew(-45deg);transition:transform 1s ease;}#whale.hover .sub-menu.svelte-sspk90 {opacity:0.85;transform:translateX(1.375em);}#whale.svelte-sspk90 .animate:where(.svelte-sspk90) {transition:transform ease-out 250ms, -webkit-transform ease-out 250ms, opacity ease 300ms;}#whale.svelte-sspk90 .menu-logo:where(.svelte-sspk90) {display:flex;flex-shrink:0;align-items:center;width:100%;height:100%;margin-left:0.625em;width:3.5em;height:2.25em;line-height:5em;border-top-left-radius:3.125em;border-bottom-left-radius:3.125em;background:#fff;box-shadow:0px 3px 10px 3px rgba(0, 0, 0, 0.2);opacity:0.65;transform:translate(1.25em);-webkit-tap-highlight-color:transparent;overflow:hidden;}#whale.svelte-sspk90 .menu-logo:where(.svelte-sspk90)::before {content:'';position:absolute;top:0;left:0;width:100%;height:100%;z-index:99;background-image:linear-gradient(90deg, rgba(255, 255, 255, 0), #fff, rgba(255, 255, 255, 0));transform:translateX(-125%) skew(-45deg);}#whale.svelte-sspk90 .menu-logo:where(.svelte-sspk90) img:where(.svelte-sspk90) {width:1.25em;height:1.25em;margin-left:0.625em;}#whale.svelte-sspk90 .sub-menu:where(.svelte-sspk90) {margin-top:0.625em;margin-right:1em;border-radius:1.125em;box-shadow:0px 2px 10px 0px #00000014;border:1px solid #f6f6f6;background:#fcfcfc;cursor:pointer;transform:translateX(4.375em);width:2.25em;-webkit-tap-highlight-color:transparent;}#whale.svelte-sspk90 .sub-menu:where(.svelte-sspk90) .feat:where(.svelte-sspk90) {position:relative;display:flex;justify-content:center;align-items:center;width:2.25em;height:2.25em;}#whale.svelte-sspk90 .sub-menu:where(.svelte-sspk90) .feat:where(.svelte-sspk90):hover .feat__tooltip:where(.svelte-sspk90) {display:block;}#whale.svelte-sspk90 .sub-menu:where(.svelte-sspk90) .feat__logo:where(.svelte-sspk90) {width:2.25em;height:2.25em;display:flex;align-items:center;justify-content:center;cursor:pointer;}#whale.svelte-sspk90 .sub-menu:where(.svelte-sspk90) .feat__logo:where(.svelte-sspk90) img:where(.svelte-sspk90) {width:1.125em;height:1.125em;}#whale.svelte-sspk90 .sub-menu:where(.svelte-sspk90) .feat__tooltip:where(.svelte-sspk90) {display:none;position:absolute;right:3.125em;width:fit-content;background-color:rgba(0, 0, 0, 0.85);color:#fff;border-radius:0.625em;padding:0.625em 0.9375em;font-size:0.875em;cursor:default;}#whale.svelte-sspk90 .sub-menu:where(.svelte-sspk90) .feat__tooltip-name:where(.svelte-sspk90) {font-size:0.875em;color:rgba(255, 255, 255, 0.95);}#whale.svelte-sspk90 .sub-menu:where(.svelte-sspk90) .feat__tooltip-desc:where(.svelte-sspk90):not(:empty) {font-size:0.8125em;color:rgba(255, 255, 255, 0.85);width:12.5em;margin-top:0.125em;}"};function Ir(e,t){dn(e,Nr);const n=window.config;let r=Pe(void 0),i,l,f=Pe(void 0);const v=_=>{P(r,_e(_)),i.open()};var c=Ar(),s=q(c),a=q(s),u=q(a);Te(s,_=>P(f,_),()=>I(f)),Te(s,_=>l=_,()=>l);var o=re(s,2);_r(o,21,()=>Array.from((n==null?void 0:n.entries())||[]),dr,(_,h)=>{let m=()=>I(h)[1];var R=Cr();R.__click=[Tr,v,m];var V=q(R),S=q(V),w=re(V,2),y=q(w),z=q(y),N=re(y,2),Q=q(N);ft(()=>{Se(R,"data-tool-name",m().name),Se(V,"data-tool-name",m().name),Se(S,"data-tool-name",m().name),Se(S,"src",m().logo),mt(z,m().name||""),mt(Q,m().desc||"")}),ht(_,R)});var d=re(o,2);const p=qe(()=>{var _;return(_=I(r))==null?void 0:_.title}),g=qe(()=>{var _;return(_=I(r))==null?void 0:_.dom});Te(Sr(d,{get title(){return I(p)},get dom(){return I(g)}}),_=>i=_,()=>i),yr(c,(_,h)=>gt==null?void 0:gt(_,h),()=>({handle:I(f),limit:{delta:{x:0},parent:"screen"},cursor:!1})),Te(c,_=>l=_,()=>l),ft(()=>Se(u,"src",t.mainLogo)),an("mouseleave",c,()=>l.classList.remove("hover")),an("mouseenter",s,()=>l.classList.add("hover")),ht(e,c)}fn(["click"]);function Rr(e,t){vt(t,!0);const n=window;n.config||(n.config=new Map),n.config.set(t.options.name,t.options),Ir(e,{get mainLogo(){return t.globalConfig.mainLogo}}),dt()}const Ce=class Ce{constructor(t){bt(this,"containerID","whale-container");this.init(t)}static config(t){Ce.globalConfig=t}init(t){const n=document.getElementById(this.containerID);n&&n.remove();const r=document.createElement("div");r.id=this.containerID;const i=r.attachShadow({mode:"open"});document.documentElement.appendChild(r),ur(Rr,{target:i,props:{options:bn({},t),globalConfig:Ce.globalConfig}})}};bt(Ce,"globalConfig");let Ge=Ce;const mn=e=>(new Ge(e),wn),gn=e=>(Ge.config(e),wn),wn={createWhale:mn,config:gn};T.config=gn,T.createWhale=mn,Object.defineProperty(T,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.js.map
